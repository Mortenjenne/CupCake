<!-- Header Fragment -->
<div th:fragment="headerFragment">
    <header>
        <nav class="header-nav">
            <!-- LEFT SECTION: Logo + Links -->
            <div class="header-left">
                <a href="index.html" th:href="@{/}" class="logo-link">
                    <img src="/images/logo-w.svg"
                         alt="Olsker Cupcakes Logo"
                         th:src="@{/images/logo-w.svg}">
                </a>

                <!-- Admin links (conditional) -->
                <div th:if="${session.currentUser != null and session.currentUser.isAdmin}" class="admin-links">
                    <a href="orders.html" th:href="@{/orders}" class="nav-link">Ordre</a>
                    <a href="customers.html" th:href="@{/customers}" class="nav-link">Kunder</a>
                    <a href="cupcakes.html" th:href="@{/cupcakes}" class="nav-link">Cupcakes</a>
                </div>
            </div>

            <!-- RIGHT SECTION: User actions -->
            <div class="header-right">
                <!-- Not logged in -->
                <a th:if="${session.currentUser == null}"
                   href="login.html"
                   th:href="@{/login}"
                   class="icon-link">
                    <img src="/images/mypage-w.svg" alt="Login" th:src="@{/images/mypage-w.svg}">
                    <span>Login</span>
                </a>

                <!-- Logged in -->
                <div th:if="${session.currentUser != null}" class="user-actions">
                    <!-- EMAIL here -->
                    <span class="username" th:text="${session.currentUser.email}"></span>
                    <a href="mypage.html" th:href="@{/user/orders}" class="icon-link">
                        <img src="/images/mypage-w.svg" alt="Min side" th:src="@{/images/mypage-w.svg}">
                        <span>Min side</span>
                    </a>

                    <a href="index.html" th:href="@{/logout}" class="icon-link">
                        <img src="/images/logout-w.svg" alt="Log ud" th:src="@{/images/logout-w.svg}">
                        <span>Log ud</span>
                    </a>
                </div>

                <!-- Basket (always visible) -->
                <a href="basket.html" th:href="@{/basket}" class="icon-link">
                    <img src="/images/basket-w.svg" alt="Kurv" th:src="@{/images/basket-w.svg}">
                    <span>Se kurv</span>
                </a>
            </div>
        </nav>
    </header>
</div>

<!-- Footer Fragment -->
<div th:fragment="footerFragment">
    <footer>
        <!-- LEFT SECTION: Contact info -->
        <address class="footer-contact">
            <p class="footer-title">Olsker Cupcakes</p>
            <p>Olsker Hovedgade 12, 3770 Allinge</p>
            <a href="mailto:kontakt@olskercupcakes.dk">kontakt@olskercupcakes.dk</a>
            <a href="tel:+4512345678">+45 1234 5678</a>
        </address>

        <!-- MIDDLE SECTION: Opening hours -->
        <section class="footer-hours">
            <p class="footer-title">Åbningstider</p>
            <div class="hours-row">
                <span>Mandag</span>
                <span>LUKKET</span>
            </div>
            <div class="hours-row">
                <span>Tirsdag - Fredag</span>
                <span>12:30 - 17:30</span>
            </div>
            <div class="hours-row">
                <span>Lørdag - Søndag</span>
                <span>10:00 - 18:00</span>
            </div>
        </section>

        <!-- RIGHT SECTION: Link -->
        <a href="about.html" th:href="@{/about}" class="footer-about icon-link">
            <img src="/images/cupcake-w.svg" alt="Om os" th:src="@{/images/cupcake-w.svg}">
            <span>Om os</span>
        </a>
    </footer>
</div>

<!-- Orderline Postcard Fragment -->
<div th:fragment="orderLinePostCard">
    <div th:each="orderLine : ${session.cart.getShoppingCart()}" class="order-card">
        <div class="order-card-img">
            <div class="cupcake-summary">
                <img class="bottom-img-small"
                     th:src="@{/images/cupcakes/bottoms/bottom_{slug}.png(slug=${orderLine.cupcake.bottom.slug})}"
                     th:attr="onerror=|this.onerror=null;this.src='@{/images/cupcakes/bottoms/bottom_placeholder.png}'|"
                     alt="bottom">
                <img class="topping-img-small"
                     th:src="@{/images/cupcakes/toppings/topping_{slug}.png(slug=${orderLine.cupcake.topping.slug})}"
                     th:attr="onerror=|this.onerror=null;this.src='@{/images/cupcakes/toppings/topping_placeholder.png}'|"
                     alt="topping">
            </div>
        </div>
        <div class="order-card-info">
            <p>
                <span th:text="${orderLine.cupcake.bottom.name}"></span> +
                <span th:text="${orderLine.cupcake.topping.name}"></span>
            </p>
            <p>Antal: <span th:text="${orderLine.quantity}"></span></p>
            <p>Pris: <span th:text="${orderLine.orderLinePrice}"></span> kr</p>
        </div>
    </div>
</div>